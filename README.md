# Загружаем в Telegram фотографии космоса

Скрипт скачивает фото и картинки на околокосмическую тематику с сайтов NASA и SpaceX, и постит их в Телеграм канал.


## Требования

Для запуска вам понадобится Python 3.6 или выше.

Если захотите скачивать картинки NASA, то необходимо получить ключ для доступа к API. Сделать это можно [здесь](https://api.nasa.gov/).

Необходимо зарегистрировать бота и получить токен для доступа к API Телеграма. Подробная инструкция [как зарегистрировать бота](https://way23.ru/%D1%80%D0%B5%D0%B3%D0%B8%D1%81%D1%82%D1%80%D0%B0%D1%86%D0%B8%D1%8F-%D0%B1%D0%BE%D1%82%D0%B0-%D0%B2-telegram/)

Также необходимо узнать ID канала, в который бот будет слать сообщения. Сделать это можно с помощью бота [Userinfobot](https://telegram.me/userinfobot). Перешлите боту любое сообщение из канала, он в ответ пришлет ID.


## Переменные окружения

Настройки берутся из переменных окружения. Чтобы их определить, создайте файл `.env` рядом с `main.py` и запишите туда данные в таком формате: `ПЕРЕМЕННАЯ=значение`.

Доступные переменные:

- `NASA_API_KEY` — ключ для доступа к API NASA. Нужен только при скачивании картинок.
- `TG_BOT_TOKEN` — токен бота, который будет постить картинки. 
- `TG_CHANNEL_ID` — id канала, куда будут отправляться картинки. 
- `POSTING_INTERVAL` — интервал публикации картинок в секундах. 

Пример:

```env
NASA_API_KEY=IZIcZkOfa2eAAlnlPI5KgDtpX3D55McsrXK3qLIR
TG_BOT_TOKEN=1983812:ACAVSXfx6JgY-wib8rgwJ8Q
TG_CHANNEL_ID=-100537018
POSTING_INTERVAL=86400
```

## Запуск

Скачайте код с GitHub. Установите зависимости:

```sh
pip install -r requirements.txt
```

### Скачайте картинки:
```sh
python fetch_spacex_images.py --image-dir=/path/to/image/dir
```
и/или
```sh
python fetch_nasa_images.py --image-dir=/path/to/image/dir
```

Скрипт создаст папку, указанную в параметре `--image-dir` и скачает туда картинки.  
Можно не указывать параметр `--image-dir`, по-умолчанию будет использоваться папка `images`.  
В случае успешного выполнения скрипт ничего не выводит.

### Запустите скрипт:
```sh
python main.py --image-dir=/path/to/image/dir
```
Можно не указывать параметр `--image-dir`, по-умолчанию будет использоваться папка `images`.

## Цели проекта

Код написан в учебных целях — для курса по Python на сайте [Devman](https://dvmn.org).